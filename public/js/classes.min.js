"use strict";class CookieAgreement{constructor(){this.s={trigger:"#cookie-agreement",hidden_class:"hidden",get_status_path:"/ajax/cookie?is-accepted",show_times:3},this.modal,this.window_resize_event,this.submit}initialize(){localStorage.setItem("cookie-agreement-show-times",0),this.modal=document.querySelector(this.s.trigger),this.modal.length<1||(isCookieAccepted()?this._setAsAccepted():this._createEvent())}_createEvent(){let e=localStorage.getItem("cookie-agreement-show-times")??0;if(e="NaN"==parseInt(e)?this.s.show_times:parseInt(e),e>this.s.show_times)return this._setAsAccepted();localStorage.setItem("cookie-agreement-show-times",++e),this.modal.classList.remove(this.s.hidden_class),this._setBottomOffset(),this.submit=this.modal.querySelector('input[type="submit"]'),this.submit.addEventListener("click",(e=>{e.preventDefault(),this._acceptCookies()}))}_setBottomOffset(){this._setDocumentBottomOffset(),window.addEventListener("resize",(e=>{this.window_resize_event=e,this._setDocumentBottomOffset()}))}_setDocumentBottomOffset(){document.body.style.marginBottom=parseFloat(this.modal.offsetHeight)+"px"}_removeBottomOffset(){this._setDocumentBottomOffset(),this.window_resize_event&&window.removeEventListener("resize",this.window_resize_event),document.body.style.marginBottom=null}_acceptCookies(){this._removeBottomOffset()}_setAsAccepted(){this.modal.remove()}}